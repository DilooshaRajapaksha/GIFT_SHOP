#!/bin/sh
# ----------------------------------------------------------------------------
# Maven Wrapper Bootstrap Script
# ----------------------------------------------------------------------------
set -e
BASEDIR=$(cd "$(dirname "$0")"; pwd -P)
MVNW_HOME="${BASEDIR}/.mvn/wrapper"
JAR="${MVNW_HOME}/maven-wrapper.jar"
PROPERTIES="${MVNW_HOME}/maven-wrapper.properties"

# Download jar if missing (curl or wget)
if [ ! -f "$JAR" ]; then
  echo "Downloading Maven Wrapper..."
  if command -v curl >/dev/null 2>&1; then
    curl -fsSL -o "$JAR" https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.2.0/maven-wrapper-3.2.0.jar
  elif command -v wget >/dev/null 2>&1; then
    wget -q -O "$JAR" https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.2.0/maven-wrapper-3.2.0.jar
  else
    echo "ERROR: curl or wget is required to download the Maven Wrapper JAR." 1>&2
    exit 1
  fi
fi

exec "${JAVA_HOME:-}/bin/java" -Dmaven.multiModuleProjectDirectory="${BASEDIR}" -classpath "${JAR}" org.apache.maven.wrapper.MavenWrapperMain "$@"
